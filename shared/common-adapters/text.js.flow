// @flow
import * as React from 'react'
import type {StylesCrossPlatform, StyleDesktop} from '../styles'

type Background =
  | 'Announcements'
  | 'Documentation'
  | 'HighRisk'
  | 'Information'
  | 'Normal'
  | 'Success'
  | 'Terminal'

type TextType =
  | 'Body'
  | 'BodyBig'
  | 'BodyBigLink'
  | 'BodyError'
  | 'BodyPrimaryLink'
  | 'BodySecondaryLink'
  | 'BodySemibold'
  | 'BodySemiboldLink'
  | 'BodySemiboldItalic'
  | 'BodySmall'
  | 'BodySmallError'
  | 'BodySmallInlineLink'
  | 'BodySmallItalic'
  | 'BodySmallPrimaryLink'
  | 'BodySmallSecondaryLink'
  | 'BodySmallSemibold'
  | 'BodySmallSemiboldItalic'
  | 'BodySmallSemiboldInlineLink'
  | 'BodySmallSuccess'
  | 'BodySuccess'
  | 'Header'
  | 'HeaderBig'
  | 'HeaderLink'
  | 'Terminal'
  | 'TerminalComment'
  | 'TerminalEmpty'
  | 'TerminalInline'

type _Props = {
  backgroundMode?: Background,
  children?: React.Node,
  className?: string,
  lineClamp?: number,
  onClick?: ?(e: SyntheticEvent<>) => void | ?() => void,
  onClickURL?: ?string,
  onPress?: void,
  onLongPress?: () => void,
  selectable?: boolean,
  style?: StylesCrossPlatform,
  type: TextType,
  title?: ?string,
  allowHighlightText?: boolean, // if true, highlighttext through refs works
  allowFontScaling?: boolean,
  underline?: boolean,
}

type MetaType = {
  fontSize: number,
  colorForBackgroundMode: {[key: Background]: ?string},
  isLink?: true,
  styleOverride?: ?Object,
  isTerminal?: true,
}

// A convenience to expose if we might pass desktop only styles in, desktop should be a superset of crossplatform
declare class TextMixed extends React.Component<Props & {style?: StyleDesktop}> {
  highlightText: () => void;
}
declare class Text extends React.Component<_Props & {style?: StyleCrossPlatform}> {
  highlightText: () => void;
}
declare function getStyle(
  type: TextType,
  backgroundMode?: ?Background,
  lineClamp?: ?number,
  clickable?: ?boolean
): Object

export {getStyle}

export type {Background, MetaType, Props, TextType}

export default Text
export {TextMixed}
